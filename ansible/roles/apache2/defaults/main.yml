---
# Thread management
apache_flavor: "prefork"

# Httpd user and group
apache_user: "www-user"
apache_group: "www-user"

# Default apache base directory (without trailing '/')
apache_root: "/var/www"

# Default apache host and ports
default_apache_port_http: 80
default_apache_port_https: 443
default_apache_host: "localhost"
default_apache_server_aliases: []
default_email: "admin@localhost"

apache_ssl_key: '/etc/apache2/certs/ssl.key'
apache_ssl_crt: '/etc/apache2/certs/ssl.crt'

apache_mods:
  - rewrite
  - ssl

vhost_sites:
  - {
      host: '{{ apache_host | default(default_apache_host) }}',
      webfolder: '',
      user: '{{ apache_user }}',
      group: '{{ apache_group }}',
      listen_port: '{{ apache_http_port | default(default_apache_port_http) }}',
      https_port: '{{ apache_https_port | default(default_apache_port_https) }}',
      admin_email: '{{ apache_admin_email | default(default_email) }}',
      aliases: '{{ apache_server_aliases | default(default_apache_server_aliases) }}',
      allowoverride: "None",
      options: "FollowSymLinks"
    }

https_vhost_sites:
  - {
      host: '{{ apache_host | default(default_apache_host) }}',
      webfolder: '',
      user: '{{ apache_user }}',
      group: '{{ apache_group }}',
      listen_port: '{{ apache_https_port | default(default_apache_port_https) }}',
      admin_email: '{{ apache_admin_email | default(default_email) }}',
      aliases: '{{ apache_server_aliases | default(default_apache_server_aliases) }}',
      allowoverride: "None",
      options: "FollowSymLinks"
    }
